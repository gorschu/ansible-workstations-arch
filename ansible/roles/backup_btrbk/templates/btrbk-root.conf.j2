# btrbk configuration for root subvolume
# Minimal snapshots - system is declarative via chezmoi/ansible

timestamp_format long
transaction_log /var/log/btrbk-root.log

# Retention: short rollback window for system volume
snapshot_preserve_min 4h
snapshot_preserve 24h 7d

volume /mnt/btrfs_root
  snapshot_dir snapshots
  snapshot_create always

  subvolume root
    snapshot_name {{ ansible_facts['hostname'] }}_root

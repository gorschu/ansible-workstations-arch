---
# Common virtualization packages (shared across roles)
virtualization_common_packages:
  - qemu-desktop
  - swtpm
  - virt-viewer

# Incus configuration
virtualization_incus_state: absent  # present or absent

# Packages required for Incus (role-specific)
virtualization_incus_packages:
  - incus
  - incus-tools

# Users granted Incus administrative access. Override in inventory or play vars to customize.
virtualization_incus_admin_users:
  - "{{ primary_user }}"

# Subordinate UID/GID range assigned to root for unprivileged Incus containers.
virtualization_incus_root_subid_range: "root:1000000:1000000000"

# Docker configuration
virtualization_docker_state: absent  # present or absent

# Users granted Docker access. Override in inventory or play vars to customize.
virtualization_docker_users:
  - "{{ primary_user }}"

# Podman configuration
virtualization_podman_state: present  # present or absent

# Core Podman packages
virtualization_podman_packages:
  - podman
  - netavark
  - aardvark-dns

# Optional Podman packages
virtualization_podman_optional_packages:
  - podman-compose

# Whether to install optional packages
virtualization_podman_install_optional: true

# Users for which to configure rootless Podman (subuid/subgid ranges)
virtualization_podman_users:
  - "{{ primary_user }}"

# Subordinate UID/GID range configuration for rootless Podman
virtualization_podman_subid_base: 100000
virtualization_podman_subid_range: 65536

# Whether to enable podman-restart.service (container restart policies on boot)
virtualization_podman_enable_restart_service: true

# libvirt/QEMU configuration
virtualization_libvirt_state: absent  # present or absent

# Packages required for libvirt/QEMU/KVM (role-specific)
virtualization_libvirt_packages:
  - libvirt
  - dnsmasq
  - openbsd-netcat
  - dmidecode
  - edk2-ovmf
  - virtiofsd
  - virt-manager
  - libvirt-python
  - python-lxml

# Users granted libvirt access. Override in inventory or play vars to customize.
virtualization_libvirt_users:
  - "{{ primary_user }}"

# Storage pool configuration
virtualization_libvirt_storage_pool_enabled: true
virtualization_libvirt_storage_pool_path: /var/lib/libvirt/images
